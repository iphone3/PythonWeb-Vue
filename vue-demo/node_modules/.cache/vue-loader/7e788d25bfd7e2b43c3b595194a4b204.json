{"remainingRequest":"/Users/atom/Desktop/Webtest/Vue基础/vue-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/atom/Desktop/Webtest/Vue基础/vue-demo/src/components/UserView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/atom/Desktop/Webtest/Vue基础/vue-demo/src/components/UserView.vue","mtime":1551188269503},{"path":"/Users/atom/Desktop/Webtest/Vue基础/vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/atom/Desktop/Webtest/Vue基础/vue-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/atom/Desktop/Webtest/Vue基础/vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/atom/Desktop/Webtest/Vue基础/vue-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport PopView from './PopView.vue'\n\texport default {\n\t\tcomponents: {\n\t\t\tPopView\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t// 原始数据源\n\t\t\t\t// 包括新增、修改后或已删除后\n\t\t\t\tlist: [{\n\t\t\t\t\t\tusername: '张三',\n\t\t\t\t\t\temail: '123@qq.com',\n\t\t\t\t\t\tsex: '男',\n\t\t\t\t\t\tprovince: '北京市',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tusername: '李四',\n\t\t\t\t\t\temail: '456@163.com',\n\t\t\t\t\t\tsex: '女',\n\t\t\t\t\t\tprovince: '河北省',\n\t\t\t\t\t},\n\t\t\t\t],\n\n\t\t\t\t// 需要展示的数据\n\t\t\t\ttempList: [],\n\n\t\t\t\t// 弹窗显示\n\t\t\t\tisactive: false,\n\n\t\t\t\t// 搜索数据\n\t\t\t\tsearchlist: [],\n\t\t\t\t\n\t\t\t\t// 标题\n\t\t\t\ttitle: '',\n\t\t\t\t\n\t\t\t\t// 更新或新增\n\t\t\t\tselectDir: {},\n\t\t\t\t\n\t\t\t\t// 修改更新 下表\n\t\t\t\tselected: -1\n\t\t\t};\n\t\t},\n\t\tcreated: function(){\n\t\t\tthis.setTempList(this.list)\n\t\t},\n\t\tmethods: {\n\t\t\t// 将需要展示的数据进行处理\n\t\t\tsetTempList: function(arr) {\n\t\t\t\tthis.tempList = JSON.parse(JSON.stringify(arr))\n\t\t\t},\n\t\t\t// 插入数据\n\t\t\tinsertData: function(){\n\t\t\t\tthis.isactive = true\n\t\t\t\tthis.title = '添加数据'\n\t\t\t\tthis.selectDir = {}\n\t\t\t},\n\t\t\t// 删除数据\n\t\t\tdeleteData: function(index) {\n\t\t\t\tthis.list.splice(index, 1)\n\t\t\t\tthis.setTempList(this.list)\n\t\t\t},\n\t\t\t// 更新数据\n\t\t\tupdateData: function(index) {\n\t\t\t\tthis.selected = index; // 修改的位置\n\t\t\t\tthis.selectDir = this.list[index];\n\t\t\t\tthis.isactive = true;\n\t\t\t\tthis.title = '更新数据'\n\t\t\t},\n\t\t\t// 搜索数据\n\t\t\tsearch: function(e) {\n\t\t\t\t// 获取输入框的值\n\t\t\t\tvar v = e.target.value;\n\t\t\t\tself = this;\n\t\t\t\tself.searchlist = [];\n\t\t\t\tif (v) {\n\t\t\t\t\tvar ss = [];\n\n\t\t\t\t\t// 过滤需要的数据\n\t\t\t\t\tthis.list.forEach(function(item) {\n\t\t\t\t\t\t// 检测用户名\n\t\t\t\t\t\tif (item.username.indexOf(v) > -1) {\n\t\t\t\t\t\t\tif (self.searchlist.indexOf(item.username) == -1) {\n\t\t\t\t\t\t\t\tself.searchlist.push(item.username);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tss.push(item);\n\t\t\t\t\t\t} else if (item.email.indexOf(v) > -1) {\n\t\t\t\t\t\t\t// 检测邮箱\n\t\t\t\t\t\t\tif (self.searchlist.indexOf(item.email) == -1) {\n\t\t\t\t\t\t\t\tself.searchlist.push(item.email);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tss.push(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.setTempList(ss); // 将过滤后的数据给了slist\n\t\t\t\t} else {\n\t\t\t\t\t// 没有搜索内容，则展示全部数据\n\t\t\t\t\tthis.setTempList(this.list);\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 子组件 》 父组件\n\t\t\tchangData: function(dir){\n\t\t\t\tthis.isactive = false\n\t\t\t\t\n\t\t\t\tif(this.selected > -1){\t// 更新数据\n\t\t\t\t\t// 全局 Vue.set 的别名\n\t\t\t\t\t// 向响应式对象中添加一个属性，并确保这个新属性同样是响应式的，且触发视图更新\n\t\t\t\t\tthis.$set(this.list, this.selected, dir);\n                    this.selected = -1;\n\t\t\t\t} else {\t// 添加数据\n\t\t\t\t\tthis.list.push(dir)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.setTempList(this.list)\n\t\t\t},\n\t\t\t// 子组件 》 父组件\n\t\t\tcancelOperate: function(){\n\t\t\t\tthis.isactive = false\n\t\t\t}\n\t\t}\n\t}\n",{"version":3,"sources":["UserView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserView.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\t<div class=\"userview\">\r\n\t\t<p>\n\t\t\t查询操作: <input type=\"text\" placeholder=\"search\" @input=\"search\" list=\"cars\" class=\"search\">\n\t\t</p>\n\n\t\t<div class=\"add\">\n\t\t\t<button @click=\"insertData\">新增用户</button>\n\t\t</div>\n\t\t\r\n\t\t<table>\r\n\t\t\t<tr>\r\n\t\t\t\t<th>id</th>\r\n\t\t\t\t<th>用户名</th>\r\n\t\t\t\t<th>邮箱</th>\r\n\t\t\t\t<th>性别</th>\r\n\t\t\t\t<th>省份</th>\r\n\t\t\t\t<th>操作</th>\r\n\t\t\t</tr>\r\n\t\t\t<tr v-cloak v-for=\"(item, index) of tempList\">\r\n\t\t\t\t<td>{{index+1}}</td>\r\n\t\t\t\t<td>{{item.username}}</td>\r\n\t\t\t\t<td>{{item.email}}</td>\r\n\t\t\t\t<td>{{item.sex}}</td>\r\n\t\t\t\t<td>{{item.province}}</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<a href=\"javascript:;\" @click=\"updateData(index)\">修改</a>\r\n\t\t\t\t\t|\r\n\t\t\t\t\t<a href=\"javascript:;\" @click=\"deleteData(index)\">删除</a>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\r\n\t\t<!-- 弹窗 -->\r\n\t\t<PopView v-show='isactive' :title='title' :selectDir='selectDir' @changData='changData' @cancelOperate='cancelOperate'></PopView>\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport PopView from './PopView.vue'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tPopView\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 原始数据源\r\n\t\t\t\t// 包括新增、修改后或已删除后\r\n\t\t\t\tlist: [{\r\n\t\t\t\t\t\tusername: '张三',\r\n\t\t\t\t\t\temail: '123@qq.com',\r\n\t\t\t\t\t\tsex: '男',\r\n\t\t\t\t\t\tprovince: '北京市',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tusername: '李四',\r\n\t\t\t\t\t\temail: '456@163.com',\r\n\t\t\t\t\t\tsex: '女',\r\n\t\t\t\t\t\tprovince: '河北省',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\r\n\t\t\t\t// 需要展示的数据\r\n\t\t\t\ttempList: [],\r\n\r\n\t\t\t\t// 弹窗显示\r\n\t\t\t\tisactive: false,\r\n\r\n\t\t\t\t// 搜索数据\r\n\t\t\t\tsearchlist: [],\n\t\t\t\t\n\t\t\t\t// 标题\n\t\t\t\ttitle: '',\n\t\t\t\t\n\t\t\t\t// 更新或新增\n\t\t\t\tselectDir: {},\n\t\t\t\t\n\t\t\t\t// 修改更新 下表\n\t\t\t\tselected: -1\r\n\t\t\t};\r\n\t\t},\n\t\tcreated: function(){\n\t\t\tthis.setTempList(this.list)\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 将需要展示的数据进行处理\r\n\t\t\tsetTempList: function(arr) {\r\n\t\t\t\tthis.tempList = JSON.parse(JSON.stringify(arr))\r\n\t\t\t},\n\t\t\t// 插入数据\n\t\t\tinsertData: function(){\n\t\t\t\tthis.isactive = true\n\t\t\t\tthis.title = '添加数据'\n\t\t\t\tthis.selectDir = {}\n\t\t\t},\r\n\t\t\t// 删除数据\r\n\t\t\tdeleteData: function(index) {\r\n\t\t\t\tthis.list.splice(index, 1)\n\t\t\t\tthis.setTempList(this.list)\r\n\t\t\t},\n\t\t\t// 更新数据\r\n\t\t\tupdateData: function(index) {\r\n\t\t\t\tthis.selected = index; // 修改的位置\r\n\t\t\t\tthis.selectDir = this.list[index];\r\n\t\t\t\tthis.isactive = true;\n\t\t\t\tthis.title = '更新数据'\r\n\t\t\t},\r\n\t\t\t// 搜索数据\r\n\t\t\tsearch: function(e) {\n\t\t\t\t// 获取输入框的值\r\n\t\t\t\tvar v = e.target.value;\r\n\t\t\t\tself = this;\r\n\t\t\t\tself.searchlist = [];\r\n\t\t\t\tif (v) {\r\n\t\t\t\t\tvar ss = [];\r\n\r\n\t\t\t\t\t// 过滤需要的数据\r\n\t\t\t\t\tthis.list.forEach(function(item) {\r\n\t\t\t\t\t\t// 检测用户名\r\n\t\t\t\t\t\tif (item.username.indexOf(v) > -1) {\r\n\t\t\t\t\t\t\tif (self.searchlist.indexOf(item.username) == -1) {\r\n\t\t\t\t\t\t\t\tself.searchlist.push(item.username);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tss.push(item);\r\n\t\t\t\t\t\t} else if (item.email.indexOf(v) > -1) {\r\n\t\t\t\t\t\t\t// 检测邮箱\r\n\t\t\t\t\t\t\tif (self.searchlist.indexOf(item.email) == -1) {\r\n\t\t\t\t\t\t\t\tself.searchlist.push(item.email);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tss.push(item);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setTempList(ss); // 将过滤后的数据给了slist\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 没有搜索内容，则展示全部数据\r\n\t\t\t\t\tthis.setTempList(this.list);\r\n\t\t\t\t}\r\n\t\t\t},\n\t\t\t// 子组件 》 父组件\n\t\t\tchangData: function(dir){\n\t\t\t\tthis.isactive = false\n\t\t\t\t\n\t\t\t\tif(this.selected > -1){\t// 更新数据\n\t\t\t\t\t// 全局 Vue.set 的别名\n\t\t\t\t\t// 向响应式对象中添加一个属性，并确保这个新属性同样是响应式的，且触发视图更新\n\t\t\t\t\tthis.$set(this.list, this.selected, dir);\n                    this.selected = -1;\n\t\t\t\t} else {\t// 添加数据\n\t\t\t\t\tthis.list.push(dir)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.setTempList(this.list)\n\t\t\t},\n\t\t\t// 子组件 》 父组件\n\t\t\tcancelOperate: function(){\n\t\t\t\tthis.isactive = false\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\ttable {\r\n\t\tborder: 1px solid #ccc;\r\n\t\tpadding: 0;\r\n\t\tborder-collapse: collapse;\r\n\t\ttable-layout: fixed;\r\n\t\tmargin-top: 10px;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\ttable td,\r\n\ttable th {\r\n\t\theight: 30px;\r\n\t\tborder: 1px solid #ccc;\r\n\t\tbackground: #fff;\r\n\t\tfont-size: 15px;\r\n\t\tpadding: 3px 3px 3px 8px;\r\n\t}\r\n\r\n\ttable th:first-child {\r\n\t\twidth: 30px;\r\n\t}\r\n\r\n\t.userview,\r\n\t.st {\r\n\t\twidth: 1000px;\r\n\t\tmargin: 10px auto 0;\r\n\t\tfont-size: 13px;\r\n\t\tfont-family: 'Microsoft YaHei'\r\n\t}\r\n\r\n\t.userview .search {\r\n\t\tfont-size: 15px;\r\n\t\tpadding: 4px;\r\n\t}\r\n\r\n\t.userview .add {\r\n\t\ttext-align: left;\r\n\t}\r\n</style>\n"]}]}